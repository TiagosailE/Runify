<div class="min-h-screen bg-[#F5F5F5] dark:bg-[#1a1a1a] pb-24">
  
  <%= render 'shared/header' %>

  <main class="px-6 py-6 space-y-6">
    
    <section>
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white">
          <i class="fas fa-users text-teal-500 mr-2"></i>
          Pacers
        </h2>
        <%= link_to new_pacer_path, class: "bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-xl transition-all" do %>
          <i class="fas fa-plus mr-2"></i>Criar Pacer
        <% end %>
      </div>

      <div class="bg-gradient-to-r from-teal-500 to-blue-500 rounded-2xl p-6 text-white mb-6">
        <h3 class="text-xl font-bold mb-2">O que são Pacers?</h3>
        <p class="text-sm opacity-90">
          Crie grupos com amigos, complete treinos, ganhe XP e suba de nível! 
          Compete no leaderboard e mostre quem é o melhor corredor do grupo.
        </p>
      </div>
    </section>

    <section>
      <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Entrar em um Pacer</h3>
      
      <%= form_with url: join_pacer_path, method: :post, local: true, class: "bg-white dark:bg-[#2d3748] rounded-2xl p-5 shadow-sm" do %>
        <div class="flex gap-3">
          <%= text_field_tag :code, nil, 
              placeholder: "Digite o código do Pacer",
              class: "flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white placeholder-gray-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500" %>
          <%= submit_tag "Entrar", class: "bg-teal-500 hover:bg-teal-600 text-white font-semibold py-3 px-6 rounded-xl transition-all cursor-pointer" %>
        </div>
      <% end %>
    </section>

    <% if @my_squads.any? %>
      <section>
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Meus Pacers</h3>
        
        <div class="space-y-3">
          <% @my_squads.each do |squad| %>
            <%= link_to pacer_path(squad), class: "block" do %>
              <div class="bg-white dark:bg-[#2d3748] rounded-2xl p-5 shadow-sm hover:shadow-md transition-all">
                <div class="flex items-center justify-between">
                  <div class="flex-1">
                    <h4 class="font-bold text-gray-900 dark:text-white text-lg"><%= squad.name %></h4>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1"><%= squad.users.count %> membros</p>
                    <% if squad.challenge_end %>
                      <p class="text-xs text-teal-500 mt-2">
                        <i class="fas fa-calendar mr-1"></i>
                        Termina em <%= (squad.challenge_end - Date.today).to_i %> dias
                      </p>
                    <% end %>
                  </div>
                  <div class="text-right">
                    <% member = squad.squad_members.find_by(user: current_user) %>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mb-1">Seu Nível</p>
                    <div class="bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300 rounded-lg px-3 py-2">
                      <p class="text-2xl font-bold"><%= member&.level || 1 %></p>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          <% end %>
        </div>
      </section>
    <% else %>
      <div class="bg-white dark:bg-[#2d3748] rounded-2xl p-8 text-center shadow-sm">
        <i class="fas fa-users text-4xl text-gray-300 dark:text-gray-600 mb-3"></i>
        <p class="text-gray-500 dark:text-gray-400">Você ainda não está em nenhum Pacer</p>
        <p class="text-sm text-gray-400 dark:text-gray-500 mt-2">Crie um ou entre com um código</p>
      </div>
    <% end %>

  </main>

  <%= render 'shared/footer' %>

</div>